{% extends "base.html" %}

{% block title %}Serial Detail - {{ serial }}{% endblock %}

{% block content %}
<h1>Test Results for Serial: {{ serial }}</h1>
<a href="{{ url_for('user_dashboard.all_serials') }}" class="btn btn-secondary mb-3">Back to all serials</a>

{% if entries %}
  {% for entry in entries %}
  <div class="card mb-3">
    <div class="card-header">
      <a href="#collapse-{{ loop.index }}" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapse-{{ loop.index }}" class="d-flex justify-content-between align-items-center text-white text-decoration-none">
        Timestamp: {{ entry.timestamp }}
        <span class="badge bg-primary text-white rounded-3">Toggle</span>
      </a>
    </div>
    <div class="collapse" id="collapse-{{ loop.index }}">
      <div class="card-body">
        <pre>{{ entry.content | tojson(indent=2) }}</pre>
      </div>
    </div>
  </div>
  {% endfor %}
{% else %}
  <p>No test data found for this serial.</p>
{% endif %}
{% endblock %}